spring:
  config:
    activate:
      on-profile: prod

  datasource:
    url: ${OBECI_DB_URL:jdbc:postgresql://postgres:5432/obecidb}
    username: ${OBECI_DB_USERNAME:obeci}
    password: ${OBECI_DB_PASSWORD:#Projeto10}
    driver-class-name: org.postgresql.Driver

server:
  port: 9090

app:
  cors:
    # Em produção, defina explicitamente o(s) domínio(s) do frontend.
    # DICA: se usar cookies entre domínios, precisa allow-credentials=true e same-site=None.
    allowed-origins:
      - ${APP_CORS_ALLOWED_ORIGINS:http://localhost:8080}
    allowed-methods: [GET, POST, PUT, DELETE, OPTIONS]
    allowed-headers: ["*"]
    allow-credentials: true

  auth:
    cookie:
      name: token
      http-only: true
      secure: true
      same-site: None
      path: /
      max-age-seconds: 36000

  jwt:
    # PROD: obrigatória. Defina via variável de ambiente.
    secret: ${APP_JWT_SECRET:vYk8ZQxk8G6nP1B2q0mZy0H6ZKc7QhWzR9b2XK0Kq6A=}
    expiration-seconds: 36000
    require-secret: true
